import { FhiButton } from './fhi-button.component.ts';
import * as FhiButtonStories from './fhi-button.stories.ts';
import {
  Meta,
  Title,
  Primary,
  Canvas,
  Story,
  Controls,
} from '@storybook/addon-docs/blocks';

<Meta of={FhiButtonStories} />

# Button

Knapper lar brukere utføre handlinger.

## Passer til

- Å utføre spesifikke handlinger, slik som å lagre endringer, sende inn et skjemasvar eller åpne en meny
- Å starte, navigere seg gjennom og avslutte en flyt eller prosess, for eksempel med «Neste» eller «Gå videre»

<Canvas of={FhiButtonStories.Preview} />

<Controls of={FhiButtonStories.Preview} />

## Valg

Ulike varianter og størrelser kan gi knappen ulike vekter av fremheving, for å skape hierarki og veilede oppmerksomheten til brukeren. Les også våre retningslinjer, råd og tips lenger ned.

### Variant (`variant`)

For å gi knappen riktig fremheving og visuell vekt bruker vi ulike varianter:
<Canvas of={FhiButtonStories.ShowVariants} />

- **`strong`** (default) til hovedhandlinger
- **`subtle`** til sækundere handlinger som trenger litt ekstra vekt enn det `outlined` har
- **`outlined`** til sekundære handlinger
- **`text`** til handlinger av laveste prioritet

### Farger (`color`)

Knapper er tilgjengelig i tre farger:

<Canvas of={FhiButtonStories.ShowColors} />

- **`accent`** (default) står mest ut, gjerne for handlinger i en planlagt flyt
- **`neutral`** brukes på handlinger som ikke trenger mye oppmerksomhet
- **`danger`** signaliserer destruktive handlinger, for eksempel der noe slettes eller ikke kan angres

### Størrelser (`size`)

Knapper kommer i tre størrelser:

<Canvas of={FhiButtonStories.ShowSizes} />

- **`large`** står ekstra ut og trekker til seg mye oppmerksomhet
- **`medium`** (default) er utgangspunktet vårt og brukes i de fleste situasjoner
- **`small`** brukes når det er lite plass til knappen eller det kan bli overveldende med mange `medium`-knapper i én gruppe

### Ikon

Et ikon kan brukes for å tydeliggjøre meningen til en handling, eller gjøre den raskere å kjenne igjen. 

<Canvas of={FhiButtonStories.ShowButtonsWithTextAndIcons} />

Ikon settes som oftest til venstre for teksten. Vi setter ikon til høyre når det assosieres med en handling eller bevegelse til høyre eller ned, slik som en pil mot høyre for “gå videre” og “neste side” eller chevron som peker ned for “åpne nedtrekksmeny”.

#### Knapp med _kun_ ikon (`icon-only`)

Knapper med kun ikon brukes når ikonet er godt nok kjent, uten umiddelbar forklaring. Husk å legge til [en tilgjengelig, alternativ tittel](?path=/docs/universell-utforming--docs). Du kan også vurdere [å legge knappen i en Tooltip](?path=/docs/komponenter-tooltip--docs).

<Canvas of={FhiButtonStories.ShowIconButtons} />

## Bruk

Her er noen råd, tips og retningslinjer om bruk av knapper:

### Tekst

Teksten på knappen skal kort og tydelig beskrive hva som skjer når du klikker på den.

Her er noen skriveråd:

- Hold den så kort som mulig, ofte holder det med 1 til 2 ord
- Er det tydelig at konteksten er et skjema, holder det å skrive "Send inn" (i stedet for "Send inn skjema")  
- Bruk stor forbokstav og små bokstaver på resten av ordene (ikke "LAGRE", men "Lagre")
- Ikke skriv "Klikk her", men forklar hva knappen faktisk gjør
- Vær obs på bruk av "Ja" og "Nei", skriv heller tydelige handlinger som "Avbryt" og "Slett"

### Hierarki

Vi vil legge til rette for god "orkestrering" av visuell hierarki – og med det brukerens oppmerksomhet. Dette gjelder både i enkle skjemaer med tydelig flyt og komplekse løsninger hvor brukeren kan navigere fritt, avhengig av oppgaven de har i øyeblikket.

#### Grupper med knapper

Vi bruker `variant` for å skape hierarki i en gruppe med relaterte handlinger, som oftest med de viktigste handlingene først. 

Knappene bør ha samme størrelse og farge. Unntaket for farge er når vi må tydeliggjøre en handling som ikke kan angres, slik som "Slett".

<Canvas of={FhiButtonStories.ShowButtonsWithMixedColors} />

#### `accent` eller `neutral`?

Komplekse løsninger, uten en tydelig steg-for-steg-flyt, krever ofte flere nivåer. Løsningen kan inneholde en rekke ulike verktøy, dashboard og lister. En og samme løsning kan også ha lagt til rette for ulike brukeres ønskede måter å gjøre jobben sin på. Én side kan også ha flere viktige handlinger. Fremhever vi noe ett sted, må vi muligens legge til noe ekstra et annet sted som er *like viktig*. Dette kan bruke opp handlingsrommet du har for å bygge hierarki, med mange elementer som konkurrerer om oppmerksomheten til brukeren. I stedet for å legge på, kan vi heller holde tilbake på det totale uttrykket og gi pusterom til brukeren.

Bruk `neutral` som utgangspunkt, så *dytter du "opp"* til `accent` når det trengs. Dette kan også være nyttig å tenke på gjennomgående i løsningen: Ved å holde tilbake bruken av knapper satt i `accent` – til bekreftende handlinger, ofte i en tydelig flyt – kan de oppfattes som tydeligere og mer handlingsdrivende.

#### Maks én `strong` på siden

På sider med flere `strong`-knapper samtidig vil det bli konkurranse i hvilke handlinger som er viktigst; sikt på å kun ha én synlig om gangen. Utforsk bruk av `subtle`-knapper i stedet, om andre elementer kan vektes ned eller om det er andre grep med størrelse, farge eller layout kan bidra til riktig hierarki.

#### Trenger siden alltid en `strong`-button?

Enkelte sider kan ha et hovedformål som ikke ikke kan oppsummeres med én enkel knapp. Det kan være andre typer elementer man skal interagere med eller at formålet er å presentere en liste eller tabell. 

I slike tilfeller kan en veldig sterk handlingsknapp (også kalt «Call to Action») konkurrere om oppmerksomheten fra selve hovedformålet. Bruk heller andre varianter for sekundære handlinger, for å gi fokus til hovedinnholdet.

### Alternativ til `disabled`

Vi unngår bruk av `disabled` siden det ofte kan forvirre brukeren hvorfor knappen ikke kan interageres med. 

En mulig alternativ strategi – la oss si i et skjema med påkrevde felt og en `strong` "Send inn"-knapp – er å starte med en `subtle`-knapp som endrer seg til `strong`, når alt er fylt ut. Den kan fortsatt trykkes på, og kanskje servere passende feilmeldinger som hjelper brukeren i mål.

### Ikoner

Dersom du bruker knapper av `text`-varianten alene, kan et ikon gjøre det tydeligere for brukeren at det er en knapp.

Overforbruk av ikoner kan føre til noen utfordringer. Ethvert ikon er et nytt visuelt element som brukeren må forholde seg til. Det kan bli mange på skjermen samtidig, noe som kan føles unødvendig travelt ut. Ikke alle ikoner er like standard som forstørrelsesglass for "søk" eller tre linjer for "meny", og kan kreve mer tolkning av brukeren.