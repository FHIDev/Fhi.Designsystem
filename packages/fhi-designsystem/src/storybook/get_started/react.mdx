import { Meta, Subtitle } from '@storybook/addon-docs/blocks';

<Meta title="Kom i gang/React" />

# React

<Subtitle>Kom i gang med FHI Designsystem i ditt React-prosjekt</Subtitle>

## Installasjon

Kjør følgende kommando for å legge til komponentbiblioteket i prosjektet ditt:

```zsh
npm install @folkehelseinstituttet/designsystem
```

**eller**, om `npm` ikke er et alternativ, kan du bruke vår CDN. Legg til følgende script og link tag under `<head>` i hoved-HTML-filen for appen:

```html
<link
  rel="stylesheet"
  href="https://cdn.designsystem.fhi.no/theme/default.css"
>

<script
  type="module"
  src="https://cdn.designsystem.fhi.no/fhi-designsystem.js"
  crossorigin="anonymous">
</script>
```

<div class="callout-danger">
  Vi anbefaler ikke å bruke CDN i produksjon.
  Det krever at klienten laster ned hele biblioteket, uavhengig av hvilke komponenter som faktisk brukes. Dette påvirker ytelsen og båndbreddebruken negativt.

  Bruk bare CDN hvis `npm` ikke er et alternativ.
</div>

Pakkene inneholder komponentene, en CSS-fil med våre design tokens og font-filen for skrifttypen Roboto Flex. Roboto Flex er allerede tatt i bruk i komponentene og er gjort tilgjengelig som en design token. Du trenger ikke å gjøre noe mer utover dette for å ta den i bruk.

<div class="callout-warning">
  **Obs:** FHI Designsystem er fullt kompatibelt med Typescript, men det er ikke enda typesatt. Det betyr at intellisense for importering og bruk, samt typesjekking, er foreløpig begrenset. Se våre *Ofte stilte spørsmål* for [info om intellisense og typesjekking](/docs/ofte-stilte-spørsmål-typesjekking-intellisense--docs).
</div>

## Bruk

<div class="callout-warning">
  FHI Designsystem støtter React versjon 19 og over. Vi støtter ikke eldre versjoner av React.
</div>

I React 19 og over kan du bruke webkomponenter direkte i JSX-koden din _nesten_ som om de var standard HTML-elementer.
Det er noen mindre forskjeller fra standard HTML-elementer, [se React sin offisielle dokumentasjon](https://react.dev/reference/react-dom/components#custom-html-elements) for mer info.

Under er et eksempel på hvordan du bruker `fhi-button`-komponenten i et React-prosjekt. Her tar vi utgangspunkt i at du har brukt `npm` da du installerte pakken.

Først importerer vi filen med [Design Tokens](?paht=/docs/design-tokens-introduksjon--docs).
Denne filen må importeres før du tar i bruk komponentbiblioteket, helst helt i starten av appen din.
```ts
import '@folkehelseinstituttet/designsystem/theme/default.css';
```

I din React-komponentfil, importér komponenten du vil bruke. I dette tilfellet vil vi bruke `fhi-button`:
```jsx
import '@folkehelseinstituttet/designsystem/fhi-button';
```

Nå kan du bruke komponenten i JSX:

```jsx
<fhi-button onClick={(event) => console.log("hello world", event)}>Click me!</fhi-button>
```

**Typescript:** Bruker du Typescript i React-prosjektet ditt, kan du oppleve at React ikke gjenkjenner webkomponentene. Dette er fordi de ikke er typesatt ennå.
For å løse dette kan du legge til en global deklarasjon i prosjektet ditt:

```ts
declare module "react" {
  // eslint-disable-next-line @typescript-eslint/no-namespace
  namespace JSX {
    interface IntrinsicElements {
      [key: `fhi-${string}`]: {
        [attribute: string]: unknown;
      };
    }
  }
}
```

<div class="callout-info">
  Dette er en midlertidig løsning. Vi jobber med å få typesatt komponentene i FHI Designsystem.
</div>

<style>{`
  .sbdocs-content a {
    text-decoration: underline;

    &:hover {
      color: var(--fhi-color-neutral-text-default);
    }
  }

  .callout-danger {
    border-radius: 2px;
    padding: .25rem 1rem;
    margin-bottom: 2rem;
    background-color: #FEE9E6;
    border-bottom: 4px solid #EC7C73;
  }

  .callout-warning {
    border-radius: 2px;
    padding: .25rem 1rem;
    margin-bottom: 2rem;
    background-color: #FFE7BA;
    border-bottom: 4px solid #F1A541;
  }

  .callout-info {
    border-radius: 2px;
    padding: .25rem 1rem;
    margin-bottom: 2rem;
    background-color: #D3E3F5;
    border-bottom: 4px solid #3283CE;
  }
`}</style>
