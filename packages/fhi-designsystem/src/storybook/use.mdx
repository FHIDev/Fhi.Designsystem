import { Meta, Subtitle } from '@storybook/blocks';

<Meta title="Bruk" />
 
# Bruk

<Subtitle>Etter [å ha installert FHI Designsystem](?path=/docs/kom-i-gang--docs) er du klar til å bruke det</Subtitle>

- [Angular](#angular)
- [Blazor](#blazor)
- [React](#react)
- [Standard HTML/JS](#standard-htmljs)


## Angular
Angular har innebygd støtte for webkomponenter. Du kan derfor bruke komponentene direkte i Angular-prosjektet ditt.

Under er et eksempel på hvordan du bruker `fhi-button`-komponenten i et Angular-prosjekt. Her tar vi utgangspunkt i at du har brukt `npm` da du installerte pakken.

Først importerer vi _design tokens_-filen. Denne filen inneholder alle primitive og semantiske _tokens_ brukt av komponentbiblioteket.
Denne filen må importeres før du tar i bruk komponentbiblioteket, helst via angular.json, der en setter følgende property:
```json
projects.[your-project].architect.build.options.styles: ["@folkehelseinstituttet/designsystem/theme/default.css"]
```

Så må vi fortelle Angular at vi bruker webkomponenter.
Vi gjør dette ved å legge til <a href="https://angular.dev/api/core/CUSTOM_ELEMENTS_SCHEMA">CUSTOM_ELEMENTS_SCHEMA</a>
i Angular-komponent-filen sin komponentdekoratør.

```ts
import { CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';

@Component({
  ...
  schemas: [CUSTOM_ELEMENTS_SCHEMA],
})

```

**Eller**, om du bruker Angular sitt gamle modulsystem, skal du legge til `CUSTOM_ELEMENTS_SCHEMA` i modulen din.

```ts
import { CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';

@NgModule({
  ...
  schemas: [CUSTOM_ELEMENTS_SCHEMA],
})

```
Før du bruker komponenten må du først importere den. Importér komponenten i Angular-komponentens Typescript-fil. I dette tilfellet importerer vi `fhi-button`:
```ts
import '@folkehelseinstituttet/designsystem/fhi-button';
```

Nå kan du bruke komponenten som om det var et vanlig HTML-element i din Angular-komponents HTML-fil:

```html
<fhi-button (click)="handleClick($event)">Click me!</fhi-button>
```
_Obs: `handleClick` er brukt her som et eksempel. Du må selv lage en metode i Angular-komponenten som håndterer klikk-eventet._

## Blazor

Blazor støtter webkomponenter på samme måte som vanlige HTML-elementer. FHI Designsystems komponenter er globalt tilgjengelige i applikasjonen uten ekstra konfigurasjon. 

For eksempel, kan du bruke `fhi-button` – hvor som helst i Blazor-appen – som følgende:

```html
<fhi-button @onclick="@(e => { Console.WriteLine($"Hello World! {e}"); })">Click me!</fhi-button>
```

**Merk:** Eksempelet tar utgangspunkt i at du har brukt [CDN for å installerte pakken](?path=/kom-i-gang--docs).

## React

<div style={{padding: ".25rem 1rem", background: "#FFE7BA", borderRadius: "2px", borderBottom: "4px solid #F1A541", marginBottom: "2rem"}} >
FHI Designsystem støtter React versjon 19 og over. Vi støtter ikke eldre versjoner av React.
</div>

I React 19 og over kan du bruke webkomponenter direkte i JSX-koden din _nesten_ som om de var standard HTML-elementer.
Det er noen mindre forskjeller fra standard HTML-elementer, [se React sin offisielle dokumentasjon](https://react.dev/reference/react-dom/components#custom-html-elements) for mer info.

Under er et eksempel på hvordan du bruker `fhi-button`-komponenten i et React-prosjekt. Her tar vi utgangspunkt i at du har brukt `npm` da du installerte pakken.

Først importerer vi _design tokens_-filen. Denne filen inneholder alle primitive og semantiske _tokens_ brukt av komponentbiblioteket.
Denne filen må importeres før du tar i bruk komponentbiblioteket, helst helt i starten av appen din.
```ts
import '@folkehelseinstituttet/designsystem/theme/default.css';
```

I din React-komponentfil, importér komponenten du vil bruke. I dette tilfellet vil vi bruke `fhi-button`:
```jsx
import '@folkehelseinstituttet/designsystem/fhi-button';
```

Nå kan du bruke komponenten i JSX:

```jsx
<fhi-button onClick={(event) => console.log("hello world", event)}>Click me!</fhi-button>
```

**Typescript:** Bruker du typescript i React-prosjektet ditt, kan du oppleve at React ikke gjenkjenner webkomponentene. Dette er fordi de ikke er typesatt ennå.
For å løse dette kan du legge til en global deklarasjon i prosjektet ditt:

```ts
declare module "react" {
  // eslint-disable-next-line @typescript-eslint/no-namespace
  namespace JSX {
    interface IntrinsicElements {
      [key: `fhi-${string}`]: {
        [attribute: string]: unknown;
      };
    }
  }
}
```

<div style={{padding: ".25rem 1rem", background: "#D3E3F5", borderRadius: "2px", borderBottom: "4px solid #3283CE", marginBottom: "2rem"}}>
Dette er en midlertidig løsning. Vi jobber med å få typesatt komponentene i FHI Designsystem.
</div>

## Standard HTML/JS

Nettleseren har innebygd støtte for webkomponenter. Du kan derfor bruke komponentene direkte i HTML-filen. 

Alle komponenter i FHI Designsystem er globalt tilgjengelige i applikasjonen uten ekstra konfigurasjon. For eksempel, kan du bruke `fhi-button` – hvor som helst i HTML-filen – som følgende:

```html
<fhi-button onclick="console.log('Hello World')">Click me!</fhi-button>
```

**Merk:** Vi tar utgangspunkt i at du har brukt [CDN for å installerte pakken](?path=/kom-i-gang--docs).

<style>{`

  .sbdocs-content a {
    text-decoration: underline;

    &:hover {
      color: var(--fhi-color-neutral-text-default);
    }
  }

`}</style>